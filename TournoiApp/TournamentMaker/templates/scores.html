{% load static %}
{% load match_extras %}

<!DOCTYPE html>
<html>
<head>
    <title>Scores</title>
</head>
<body>
    <h1>Scores</h1>
    <form method="POST">
        {% csrf_token %}
        {% for match in matches %}
        <div>
            <h2>Match {{ match.id }} : {{ match.team_a }} vs {{ match.team_b }}</h2>
            {% for set_number in sets_range %}
            <div>
                <label for="match_{{ match.id }}_set{{ set_number }}_team_a">
                    Set {{ set_number }} - {{ match.team_a }}:
                </label>
                <input type="number" id="match_{{ match.id }}_set{{ set_number }}_team_a" 
                       name="match_{{ match.id }}_set{{ set_number }}_team_a"
                       value="{{ match|get_set_score:set_number|stringformat:'_team_a' }}" />

                <label for="match_{{ match.id }}_set{{ set_number }}_team_b">
                    Set {{ set_number }} - {{ match.team_b }}:
                </label>
                <input type="number" id="match_{{ match.id }}_set{{ set_number }}_team_b" 
                       name="match_{{ match.id }}_set{{ set_number }}_team_b"
                       value="{{ match|get_set_score:set_number|stringformat:'_team_b' }}" />
            </div>
            {% endfor %}
        </div>
        <hr>
        {% endfor %}
        <button type="submit">Enregistrer</button>
    </form>
</body>
</html>
